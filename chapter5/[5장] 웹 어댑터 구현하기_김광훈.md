# 웹 어댑터 구현하기
## 1. 의존성 역전
<img width="800" src="https://user-images.githubusercontent.com/60383031/154848460-49b84ce1-6124-40c9-be77-e1aa9c3c82ce.png">

- 웹 어댑터는 Incoming 어댑터이다.
- 외부로부터 요청 받음 ---> 애플리케이션 코어 호출 ---> 무슨 일을 해야할지 알려줌
- 애플리케이션 계층을 웹 어댑터가 통신할 수 있는 `포트`를 제공 
- 즉, 서비스는 포트 구현 & 웹 어댑터 포트 호출

<br>

<img width="800" src="https://user-images.githubusercontent.com/60383031/154848493-294cd327-8ec3-4489-9b76-6f81a86d7401.png">

- 제어 흐름이 왼쪽 ---> 오른쪽 
- 웹 어댑터가 유스케이스를 직접 호출할 수 있지만 간접 계층을 넣음
- 포트(간접 계층)은 외부와 통신할 수 있는 곳에 대한 명세서 (어떤 통신이 일어나는지 명확하게 알 수 있음)

<br>

<img width="800" src="https://user-images.githubusercontent.com/60383031/154848546-f2189aa5-b3f7-4774-ac22-805fefadacbd.png">


- 그림의 포트는 Outgoing 포트이다.
- 이 포트는 웹 어댑터에서 구현하고 애플리케이션 코어에서 호출해야 한다. (p 55)
- 정확한 의미는 정확하게 모르곘다.

<img width="800" src="https://user-images.githubusercontent.com/60383031/154848234-acdb71de-0f86-4b0e-974b-b736346caf84.png">

- 뇌피셜로 위 코드처럼 웹 어댑터에서 SendMoneyCommand 를 구현하고 UseCase 케이스를 호출할때 파라미터로 넘겨주는 것을 의미하는 건가 싶다.     
    
<br>

## 2. 웹 어댑터의 책임
- 웹 어댑터의 입력 모델을 유스케이스의 입력 모델로 변환할 수 있다는 것을 검증해야함 !!!
- HTTP 와 관련된 모든 것은 애플리케이션 계층으로 침투하면 안된다. !!!
- 애플리케이션 코어에서는 바깥 계층에서 HTTP 를 쓰든 뭐를 쓰든 몰라야 한다. 
- 이러한 계층 간의 경계는 도메인과 어플리케이션 계층부터 개발하기 시작하면 자연스럽게 생긴다. (???)

<br>

## 3. 컨트롤러 나누기
- 컨트롤러는 너무 적은 것 보다는 많은게 낫다.
- 각 컨틀로러가 가능한 한 좁고 다른 컨트롤러와 가능한 한 적게 공유한느 웹 어댑터 조각을 구현해야한다.
- `그렇다면 궁금: 만약 CSV, JSON, XML 형식으로 제공하는 기능이 있다고 할 때, 하나의 컨트롤러로 할 것 인가 ?? 나눌 것인가 ??`
